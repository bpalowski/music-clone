{"ast":null,"code":"var _jsxFileName = \"/Users/brianpalowski/Desktop/music-clone/client/src/views/Main.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { setLogin, updateUser } from '../state/actions/index';\nimport axios from 'axios';\nimport socketIOClient from \"socket.io-client\";\nimport Login from './Login';\n\nconst Main = ({\n  updateUser,\n  setLogin,\n  authenticated\n}) => {\n  const view = () => {\n    if (!authenticated) {\n      axios.get('api/loggedIn').then(res => {\n        if (Boolean(res.data)) {\n          const socket = socketIOClient('http://localhost:5000');\n          socket.emit(\"initial_data\");\n          socket.on(\"get_data\", data => {\n            updateUser(data);\n            socket.emit(\"disconnect\");\n          });\n          setLogin();\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-conatiner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 8\n      }\n    }));\n  };\n\n  return view();\n};\n\nconst mapStateToProps = state => ({\n  authenticated: state.userData.authenticated\n});\n\nconst mapDispatchToProps = {\n  setLogin,\n  updateUser\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);","map":{"version":3,"sources":["/Users/brianpalowski/Desktop/music-clone/client/src/views/Main.js"],"names":["React","connect","setLogin","updateUser","axios","socketIOClient","Login","Main","authenticated","view","get","then","res","Boolean","data","socket","emit","on","catch","error","console","log","mapStateToProps","state","userData","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAuB,OAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,wBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,OAAOC,KAAP,MAAkB,SAAlB;;AAGA,MAAMC,IAAI,GAAG,CAAC;AAAEJ,EAAAA,UAAF;AAAcD,EAAAA,QAAd;AAAwBM,EAAAA;AAAxB,CAAD,KAA6C;AAExD,QAAMC,IAAI,GAAG,MAAM;AACjB,QAAI,CAACD,aAAL,EAAoB;AAClBJ,MAAAA,KAAK,CAACM,GAAN,CAAU,cAAV,EACGC,IADH,CACQC,GAAG,IAAI;AACX,YAAIC,OAAO,CAACD,GAAG,CAACE,IAAL,CAAX,EAAuB;AACrB,gBAAMC,MAAM,GAAGV,cAAc,CAAC,uBAAD,CAA7B;AACAU,UAAAA,MAAM,CAACC,IAAP,CAAY,cAAZ;AACAD,UAAAA,MAAM,CAACE,EAAP,CAAU,UAAV,EAAuBH,IAAD,IAAU;AAC9BX,YAAAA,UAAU,CAACW,IAAD,CAAV;AACAC,YAAAA,MAAM,CAACC,IAAP,CAAY,YAAZ;AACD,WAHD;AAIAd,UAAAA,QAAQ;AACT;AACF,OAXH,EAWKgB,KAXL,CAWWC,KAAK,IAAI;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAbH;AAcD;;AACD,wBAAO;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACJ,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADI,CAAP;AAGD,GApBD;;AAsBA,SAAOV,IAAI,EAAX;AACD,CAzBD;;AA6BA,MAAMa,eAAe,GAAGC,KAAK,KAAK;AAChCf,EAAAA,aAAa,EAAEe,KAAK,CAACC,QAAN,CAAehB;AADE,CAAL,CAA7B;;AAGA,MAAMiB,kBAAkB,GAAG;AAAEvB,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAA3B;AAEA,eAAeF,OAAO,CAACqB,eAAD,EAAkBG,kBAAlB,CAAP,CAA6ClB,IAA7C,CAAf","sourcesContent":["import React, { } from 'react'\nimport { connect } from \"react-redux\";\nimport { setLogin, updateUser } from '../state/actions/index';\nimport axios from 'axios'\nimport socketIOClient from \"socket.io-client\";\n\nimport Login from './Login'\n\n\nconst Main = ({ updateUser, setLogin, authenticated }) => {\n\n  const view = () => {\n    if (!authenticated) {\n      axios.get('api/loggedIn')\n        .then(res => {\n          if (Boolean(res.data)) {\n            const socket = socketIOClient('http://localhost:5000');\n            socket.emit(\"initial_data\")\n            socket.on(\"get_data\", (data) => {\n              updateUser(data)\n              socket.emit(\"disconnect\");\n            });\n            setLogin()\n          }\n        }).catch(error => {\n          console.log(error)\n        })\n    }\n    return <div className=\"main-conatiner\">\n      {<Login />}\n    </div>\n  }\n\n  return view()\n}\n\n\n\nconst mapStateToProps = state => ({\n  authenticated: state.userData.authenticated,\n});\nconst mapDispatchToProps = { setLogin, updateUser };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\n"]},"metadata":{},"sourceType":"module"}